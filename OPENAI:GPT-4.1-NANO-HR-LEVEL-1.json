{
  "created_at": {
    "datatype": { "Timestamp": ["Microsecond", "UTC"] },
    "nullable": false,
    "values": ["2025-04-28T06:24:56.059586Z"]
  },
  "start_timestamp": {
    "datatype": { "Timestamp": ["Microsecond", "UTC"] },
    "nullable": false,
    "values": ["2025-04-28T06:24:30.859034Z"]
  },
  "end_timestamp": {
    "datatype": { "Timestamp": ["Microsecond", "UTC"] },
    "nullable": false,
    "values": ["2025-04-28T06:24:54.843774Z"]
  },
  "duration": { "datatype": "Float64", "nullable": true, "values": [23.98474] },
  "trace_id": {
    "datatype": "Utf8",
    "nullable": false,
    "values": ["01967b11908bbaebd6a07c529617e308"]
  },
  "attributes": {
    "datatype": "JSON",
    "nullable": true,
    "values": [
      {
        "averages": {
          "name": "Averages",
          "scores": {},
          "labels": {},
          "metrics": {
            "input_tokens": 16649.6,
            "output_tokens": 470.0,
            "cached_tokens": 10035.2,
            "requests": 3.4
          },
          "assertions": 0.7,
          "task_duration": 15.3690192,
          "total_duration": 15.371208200000002
        },
        "cases": [
          {
            "name": "hr_l1_q1",
            "inputs": {
              "query": "What is the email address of Alice Johnson?",
              "output_type": "<class 'evals.level1.hr.output_types.Email'>",
              "result_schema": ""
            },
            "metadata": null,
            "expected_output": {
              "result": { "email": "alice.johnson@example.com" },
              "tool_calls": [
                {
                  "tool": "get_table_records",
                  "params": {
                    "table_name": "hr_employees",
                    "filter": "(first_name='Alice') AND (last_name='Johnson')",
                    "fields": "email"
                  }
                }
              ]
            },
            "output": {
              "result": { "email": "alice.johnson@example.com" },
              "tool_calls": [
                {
                  "tool": "get_table_records",
                  "params": {
                    "table_name": "hr_employees",
                    "filter": "(first_name='Alice') AND (last_name='Johnson')"
                  }
                }
              ]
            },
            "metrics": {
              "input_tokens": 14234,
              "output_tokens": 148,
              "cached_tokens": 7680,
              "requests": 3
            },
            "attributes": {},
            "scores": {},
            "labels": {},
            "assertions": {
              "EvaluateResult": {
                "name": "EvaluateResult",
                "value": true,
                "reason": null,
                "source": { "name": "EvaluateResult", "arguments": null }
              },
              "EvaluateToolCalls": {
                "name": "EvaluateToolCalls",
                "value": false,
                "reason": "Tool call params mismatch: {'table_name': 'hr_employees', 'filter': \"(first_name='Alice') AND (last_name='Johnson')\"} != {'table_name': 'hr_employees', 'filter': \"(first_name='Alice') AND (last_name='Johnson')\", 'fields': 'email'} at tool number: 1\n",
                "source": { "name": "EvaluateToolCalls", "arguments": null }
              }
            },
            "task_duration": 16.999246,
            "total_duration": 17.001202,
            "trace_id": "01967b11908bbaebd6a07c529617e308",
            "span_id": "a52b43753f648279"
          },
          {
            "name": "hr_l1_q2",
            "inputs": {
              "query": "How many departments do we have in the company?",
              "output_type": "<class 'evals.level1.hr.output_types.DepartmentCount'>",
              "result_schema": ""
            },
            "metadata": null,
            "expected_output": {
              "result": { "department_count": 20 },
              "tool_calls": [
                {
                  "tool": "get_table_records",
                  "params": { "table_name": "hr_departments" }
                }
              ]
            },
            "output": {
              "result": { "department_count": 20 },
              "tool_calls": [
                {
                  "tool": "get_table_records",
                  "params": { "table_name": "hr_departments" }
                }
              ]
            },
            "metrics": {
              "input_tokens": 5408,
              "output_tokens": 70,
              "cached_tokens": 2048,
              "requests": 2
            },
            "attributes": {},
            "scores": {},
            "labels": {},
            "assertions": {
              "EvaluateResult": {
                "name": "EvaluateResult",
                "value": true,
                "reason": null,
                "source": { "name": "EvaluateResult", "arguments": null }
              },
              "EvaluateToolCalls": {
                "name": "EvaluateToolCalls",
                "value": true,
                "reason": null,
                "source": { "name": "EvaluateToolCalls", "arguments": null }
              }
            },
            "task_duration": 12.896419,
            "total_duration": 12.898618,
            "trace_id": "01967b11908bbaebd6a07c529617e308",
            "span_id": "4af00ce8f375b61a"
          },
          {
            "name": "hr_l1_q3",
            "inputs": {
              "query": "List all department policies that were effective from January to June 2023.",
              "output_type": "<class 'evals.level1.hr.output_types.Policies'>",
              "result_schema": ""
            },
            "metadata": null,
            "expected_output": {
              "result": {
                "policies": [
                  {
                    "policy_id": 13,
                    "title": "Support Policy",
                    "description": "Policy details for Support department.",
                    "effective_date": "2023-01-01",
                    "department_id": 13
                  },
                  {
                    "policy_id": 14,
                    "title": "Quality Assurance Policy",
                    "description": "Policy details for Quality Assurance department.",
                    "effective_date": "2023-02-01",
                    "department_id": 14
                  },
                  {
                    "policy_id": 15,
                    "title": "Logistics Policy",
                    "description": "Policy details for Logistics department.",
                    "effective_date": "2023-03-01",
                    "department_id": 15
                  },
                  {
                    "policy_id": 16,
                    "title": "Business Development Policy",
                    "description": "Policy details for Business Development department.",
                    "effective_date": "2023-04-01",
                    "department_id": 16
                  },
                  {
                    "policy_id": 17,
                    "title": "Strategy Policy",
                    "description": "Policy details for Strategy department.",
                    "effective_date": "2023-05-01",
                    "department_id": 17
                  },
                  {
                    "policy_id": 18,
                    "title": "Compliance Policy",
                    "description": "Policy details for Compliance department.",
                    "effective_date": "2023-06-01",
                    "department_id": 18
                  }
                ]
              },
              "tool_calls": [
                {
                  "tool": "get_table_records",
                  "params": {
                    "table_name": "hr_policies",
                    "filter": "(effective_date >= '2023-01-01') AND (effective_date <= '2023-06-30')"
                  }
                }
              ]
            },
            "output": {
              "result": {
                "policies": [
                  {
                    "policy_id": 13,
                    "title": "Support Policy",
                    "description": "Policy details for Support department.",
                    "effective_date": "2023-01-01",
                    "department_id": 13
                  },
                  {
                    "policy_id": 14,
                    "title": "Quality Assurance Policy",
                    "description": "Policy details for Quality Assurance department.",
                    "effective_date": "2023-02-01",
                    "department_id": 14
                  },
                  {
                    "policy_id": 15,
                    "title": "Logistics Policy",
                    "description": "Policy details for Logistics department.",
                    "effective_date": "2023-03-01",
                    "department_id": 15
                  },
                  {
                    "policy_id": 16,
                    "title": "Business Development Policy",
                    "description": "Policy details for Business Development department.",
                    "effective_date": "2023-04-01",
                    "department_id": 16
                  },
                  {
                    "policy_id": 17,
                    "title": "Strategy Policy",
                    "description": "Policy details for Strategy department.",
                    "effective_date": "2023-05-01",
                    "department_id": 17
                  },
                  {
                    "policy_id": 18,
                    "title": "Compliance Policy",
                    "description": "Policy details for Compliance department.",
                    "effective_date": "2023-06-01",
                    "department_id": 18
                  }
                ]
              },
              "tool_calls": [
                {
                  "tool": "get_table_records",
                  "params": {
                    "table_name": "hr_policies",
                    "filter": "(effective_date>='2023-01-01') AND (effective_date<='2023-06-30')"
                  }
                },
                {
                  "tool": "get_table_records",
                  "params": {
                    "table_name": "hr_departments",
                    "filter": "department_id in (13, 14, 15, 16, 17, 18)"
                  }
                }
              ]
            },
            "metrics": {
              "input_tokens": 26844,
              "output_tokens": 1034,
              "cached_tokens": 18944,
              "requests": 5
            },
            "attributes": {},
            "scores": {},
            "labels": {},
            "assertions": {
              "EvaluateResult": {
                "name": "EvaluateResult",
                "value": true,
                "reason": null,
                "source": { "name": "EvaluateResult", "arguments": null }
              },
              "EvaluateToolCalls": {
                "name": "EvaluateToolCalls",
                "value": false,
                "reason": "Too many tool calls: 2 > 1",
                "source": { "name": "EvaluateToolCalls", "arguments": null }
              }
            },
            "task_duration": 20.068454,
            "total_duration": 20.070692,
            "trace_id": "01967b11908bbaebd6a07c529617e308",
            "span_id": "5a8a6018000f315a"
          },
          {
            "name": "hr_l1_q4",
            "inputs": {
              "query": "List all employees who joined in 2023.",
              "output_type": "<class 'evals.level1.hr.output_types.Employees'>",
              "result_schema": ""
            },
            "metadata": null,
            "expected_output": {
              "result": {
                "employees": [
                  {
                    "employee_id": 13,
                    "first_name": "Mia",
                    "last_name": "White",
                    "email": "mia.white@example.com",
                    "date_joined": "2023-01-15",
                    "department_id": 13,
                    "role": "Staff"
                  },
                  {
                    "employee_id": 14,
                    "first_name": "Noah",
                    "last_name": "Harris",
                    "email": "noah.harris@example.com",
                    "date_joined": "2023-02-10",
                    "department_id": 14,
                    "role": "Manager"
                  },
                  {
                    "employee_id": 15,
                    "first_name": "Olivia",
                    "last_name": "Martin",
                    "email": "olivia.martin@example.com",
                    "date_joined": "2023-03-05",
                    "department_id": 15,
                    "role": "Staff"
                  },
                  {
                    "employee_id": 16,
                    "first_name": "Peter",
                    "last_name": "Thompson",
                    "email": "peter.thompson@example.com",
                    "date_joined": "2023-04-20",
                    "department_id": 16,
                    "role": "Staff"
                  },
                  {
                    "employee_id": 17,
                    "first_name": "Quinn",
                    "last_name": "Garcia",
                    "email": "quinn.garcia@example.com",
                    "date_joined": "2023-05-15",
                    "department_id": 17,
                    "role": "Manager"
                  },
                  {
                    "employee_id": 18,
                    "first_name": "Riley",
                    "last_name": "Martinez",
                    "email": "riley.martinez@example.com",
                    "date_joined": "2023-06-10",
                    "department_id": 18,
                    "role": "Staff"
                  },
                  {
                    "employee_id": 19,
                    "first_name": "Sophia",
                    "last_name": "Robinson",
                    "email": "sophia.robinson@example.com",
                    "date_joined": "2023-07-05",
                    "department_id": 19,
                    "role": "Staff"
                  },
                  {
                    "employee_id": 20,
                    "first_name": "Tyler",
                    "last_name": "Clark",
                    "email": "tyler.clark@example.com",
                    "date_joined": "2023-08-20",
                    "department_id": 20,
                    "role": "Manager"
                  }
                ]
              },
              "tool_calls": [
                {
                  "tool": "get_table_records",
                  "params": {
                    "table_name": "hr_employees",
                    "filter": "(date_joined >= '2023-01-01') AND (date_joined <= '2023-12-31')"
                  }
                }
              ]
            },
            "output": {
              "result": {
                "employees": [
                  {
                    "employee_id": 13,
                    "first_name": "Mia",
                    "last_name": "White",
                    "email": "mia.white@example.com",
                    "date_joined": "2023-01-15",
                    "department_id": 13,
                    "role": "Staff"
                  },
                  {
                    "employee_id": 14,
                    "first_name": "Noah",
                    "last_name": "Harris",
                    "email": "noah.harris@example.com",
                    "date_joined": "2023-02-10",
                    "department_id": 14,
                    "role": "Manager"
                  },
                  {
                    "employee_id": 15,
                    "first_name": "Olivia",
                    "last_name": "Martin",
                    "email": "olivia.martin@example.com",
                    "date_joined": "2023-03-05",
                    "department_id": 15,
                    "role": "Staff"
                  },
                  {
                    "employee_id": 16,
                    "first_name": "Peter",
                    "last_name": "Thompson",
                    "email": "peter.thompson@example.com",
                    "date_joined": "2023-04-20",
                    "department_id": 16,
                    "role": "Staff"
                  },
                  {
                    "employee_id": 17,
                    "first_name": "Quinn",
                    "last_name": "Garcia",
                    "email": "quinn.garcia@example.com",
                    "date_joined": "2023-05-15",
                    "department_id": 17,
                    "role": "Manager"
                  },
                  {
                    "employee_id": 18,
                    "first_name": "Riley",
                    "last_name": "Martinez",
                    "email": "riley.martinez@example.com",
                    "date_joined": "2023-06-10",
                    "department_id": 18,
                    "role": "Staff"
                  },
                  {
                    "employee_id": 19,
                    "first_name": "Sophia",
                    "last_name": "Robinson",
                    "email": "sophia.robinson@example.com",
                    "date_joined": "2023-07-05",
                    "department_id": 19,
                    "role": "Staff"
                  },
                  {
                    "employee_id": 20,
                    "first_name": "Tyler",
                    "last_name": "Clark",
                    "email": "tyler.clark@example.com",
                    "date_joined": "2023-08-20",
                    "department_id": 20,
                    "role": "Manager"
                  }
                ]
              },
              "tool_calls": [
                {
                  "tool": "get_table_records",
                  "params": {
                    "table_name": "hr_employees",
                    "filter": "(date_joined >= '2023-01-01') AND (date_joined <= '2023-12-31')"
                  }
                }
              ]
            },
            "metrics": {
              "input_tokens": 15406,
              "output_tokens": 904,
              "cached_tokens": 7936,
              "requests": 3
            },
            "attributes": {},
            "scores": {},
            "labels": {},
            "assertions": {
              "EvaluateResult": {
                "name": "EvaluateResult",
                "value": true,
                "reason": null,
                "source": { "name": "EvaluateResult", "arguments": null }
              },
              "EvaluateToolCalls": {
                "name": "EvaluateToolCalls",
                "value": true,
                "reason": null,
                "source": { "name": "EvaluateToolCalls", "arguments": null }
              }
            },
            "task_duration": 14.442026,
            "total_duration": 14.445133,
            "trace_id": "01967b11908bbaebd6a07c529617e308",
            "span_id": "13dd4bd33ed4c51d"
          },
          {
            "name": "hr_l1_q5",
            "inputs": {
              "query": "How many managers do we have in the company?",
              "output_type": "<class 'evals.level1.hr.output_types.ManagerCount'>",
              "result_schema": ""
            },
            "metadata": null,
            "expected_output": {
              "result": { "manager_count": 7 },
              "tool_calls": [
                {
                  "tool": "get_table_records",
                  "params": {
                    "table_name": "hr_employees",
                    "filter": "role='Manager'",
                    "fields": "employee_id"
                  }
                }
              ]
            },
            "output": {
              "result": { "manager_count": 7 },
              "tool_calls": [
                {
                  "tool": "get_table_records",
                  "params": {
                    "table_name": "hr_employees",
                    "filter": "(role='Manager')",
                    "limit": 1
                  }
                },
                {
                  "tool": "get_table_records",
                  "params": {
                    "table_name": "hr_employees",
                    "filter": "(role='Manager')",
                    "limit": 100
                  }
                }
              ]
            },
            "metrics": {
              "input_tokens": 21356,
              "output_tokens": 194,
              "cached_tokens": 13568,
              "requests": 4
            },
            "attributes": {},
            "scores": {},
            "labels": {},
            "assertions": {
              "EvaluateResult": {
                "name": "EvaluateResult",
                "value": true,
                "reason": null,
                "source": { "name": "EvaluateResult", "arguments": null }
              },
              "EvaluateToolCalls": {
                "name": "EvaluateToolCalls",
                "value": false,
                "reason": "Too many tool calls: 2 > 1",
                "source": { "name": "EvaluateToolCalls", "arguments": null }
              }
            },
            "task_duration": 12.438951,
            "total_duration": 12.440396,
            "trace_id": "01967b11908bbaebd6a07c529617e308",
            "span_id": "c35a973b9c70b63d"
          }
        ],
        "code.filepath": "src/dream_factory_evals/df_agent.py",
        "code.function": "evaluate",
        "code.lineno": 185,
        "logfire.msg_template": "evaluate {name}",
        "name": "OPENAI:GPT-4.1-NANO-HR-LEVEL-1"
      }
    ]
  }
}
