{
  "created_at": {
    "datatype": { "Timestamp": ["Microsecond", "UTC"] },
    "nullable": false,
    "values": ["2025-04-28T06:25:27.036656Z"]
  },
  "start_timestamp": {
    "datatype": { "Timestamp": ["Microsecond", "UTC"] },
    "nullable": false,
    "values": ["2025-04-28T06:24:54.862044Z"]
  },
  "end_timestamp": {
    "datatype": { "Timestamp": ["Microsecond", "UTC"] },
    "nullable": false,
    "values": ["2025-04-28T06:25:24.787225Z"]
  },
  "duration": {
    "datatype": "Float64",
    "nullable": true,
    "values": [29.925181]
  },
  "trace_id": {
    "datatype": "Utf8",
    "nullable": false,
    "values": ["01967b11ee4e6e02faf7c381107b3e2c"]
  },
  "attributes": {
    "datatype": "JSON",
    "nullable": true,
    "values": [
      {
        "averages": {
          "name": "Averages",
          "scores": {},
          "labels": {},
          "metrics": {
            "input_tokens": 14880.0,
            "output_tokens": 401.6,
            "cached_tokens": 11059.2,
            "requests": 3.2
          },
          "assertions": 0.6,
          "task_duration": 18.809695400000003,
          "total_duration": 18.8127736
        },
        "cases": [
          {
            "name": "hr_l1_q1",
            "inputs": {
              "query": "What is the email address of Alice Johnson?",
              "output_type": "<class 'evals.level1.hr.output_types.Email'>",
              "result_schema": ""
            },
            "metadata": null,
            "expected_output": {
              "result": { "email": "alice.johnson@example.com" },
              "tool_calls": [
                {
                  "tool": "get_table_records",
                  "params": {
                    "table_name": "hr_employees",
                    "filter": "(first_name='Alice') AND (last_name='Johnson')",
                    "fields": "email"
                  }
                }
              ]
            },
            "output": {
              "result": { "email": "alice.johnson@example.com" },
              "tool_calls": [
                {
                  "tool": "get_table_records",
                  "params": {
                    "table_name": "hr_employees",
                    "filter": "(first_name='Alice') AND (last_name='Johnson')",
                    "fields": ["email"],
                    "limit": 1
                  }
                }
              ]
            },
            "metrics": {
              "input_tokens": 14158,
              "output_tokens": 166,
              "cached_tokens": 7936,
              "requests": 3
            },
            "attributes": {},
            "scores": {},
            "labels": {},
            "assertions": {
              "EvaluateResult": {
                "name": "EvaluateResult",
                "value": true,
                "reason": null,
                "source": { "name": "EvaluateResult", "arguments": null }
              },
              "EvaluateToolCalls": {
                "name": "EvaluateToolCalls",
                "value": false,
                "reason": "Tool call params mismatch: {'table_name': 'hr_employees', 'filter': \"(first_name='Alice') AND (last_name='Johnson')\", 'fields': ['email'], 'limit': 1} != {'table_name': 'hr_employees', 'filter': \"(first_name='Alice') AND (last_name='Johnson')\", 'fields': 'email'} at tool number: 1\n",
                "source": { "name": "EvaluateToolCalls", "arguments": null }
              }
            },
            "task_duration": 22.795804,
            "total_duration": 22.797059,
            "trace_id": "01967b11ee4e6e02faf7c381107b3e2c",
            "span_id": "ed4e6826cb63e570"
          },
          {
            "name": "hr_l1_q2",
            "inputs": {
              "query": "How many departments do we have in the company?",
              "output_type": "<class 'evals.level1.hr.output_types.DepartmentCount'>",
              "result_schema": ""
            },
            "metadata": null,
            "expected_output": {
              "result": { "department_count": 20 },
              "tool_calls": [
                {
                  "tool": "get_table_records",
                  "params": { "table_name": "hr_departments" }
                }
              ]
            },
            "output": {
              "result": { "department_count": 20 },
              "tool_calls": [
                {
                  "tool": "get_table_records",
                  "params": {
                    "table_name": "hr_departments",
                    "fields": ["department_id"]
                  }
                }
              ]
            },
            "metrics": {
              "input_tokens": 11322,
              "output_tokens": 120,
              "cached_tokens": 6400,
              "requests": 3
            },
            "attributes": {},
            "scores": {},
            "labels": {},
            "assertions": {
              "EvaluateResult": {
                "name": "EvaluateResult",
                "value": true,
                "reason": null,
                "source": { "name": "EvaluateResult", "arguments": null }
              },
              "EvaluateToolCalls": {
                "name": "EvaluateToolCalls",
                "value": false,
                "reason": "Tool call params mismatch: {'table_name': 'hr_departments', 'fields': ['department_id']} != {'table_name': 'hr_departments'} at tool number: 1\n",
                "source": { "name": "EvaluateToolCalls", "arguments": null }
              }
            },
            "task_duration": 15.784517,
            "total_duration": 15.788216,
            "trace_id": "01967b11ee4e6e02faf7c381107b3e2c",
            "span_id": "65b78a1e196e6e41"
          },
          {
            "name": "hr_l1_q3",
            "inputs": {
              "query": "List all department policies that were effective from January to June 2023.",
              "output_type": "<class 'evals.level1.hr.output_types.Policies'>",
              "result_schema": ""
            },
            "metadata": null,
            "expected_output": {
              "result": {
                "policies": [
                  {
                    "policy_id": 13,
                    "title": "Support Policy",
                    "description": "Policy details for Support department.",
                    "effective_date": "2023-01-01",
                    "department_id": 13
                  },
                  {
                    "policy_id": 14,
                    "title": "Quality Assurance Policy",
                    "description": "Policy details for Quality Assurance department.",
                    "effective_date": "2023-02-01",
                    "department_id": 14
                  },
                  {
                    "policy_id": 15,
                    "title": "Logistics Policy",
                    "description": "Policy details for Logistics department.",
                    "effective_date": "2023-03-01",
                    "department_id": 15
                  },
                  {
                    "policy_id": 16,
                    "title": "Business Development Policy",
                    "description": "Policy details for Business Development department.",
                    "effective_date": "2023-04-01",
                    "department_id": 16
                  },
                  {
                    "policy_id": 17,
                    "title": "Strategy Policy",
                    "description": "Policy details for Strategy department.",
                    "effective_date": "2023-05-01",
                    "department_id": 17
                  },
                  {
                    "policy_id": 18,
                    "title": "Compliance Policy",
                    "description": "Policy details for Compliance department.",
                    "effective_date": "2023-06-01",
                    "department_id": 18
                  }
                ]
              },
              "tool_calls": [
                {
                  "tool": "get_table_records",
                  "params": {
                    "table_name": "hr_policies",
                    "filter": "(effective_date >= '2023-01-01') AND (effective_date <= '2023-06-30')"
                  }
                }
              ]
            },
            "output": {
              "result": {
                "policies": [
                  {
                    "policy_id": 13,
                    "title": "Support Policy",
                    "description": "Policy details for Support department.",
                    "effective_date": "2023-01-01",
                    "department_id": 13
                  },
                  {
                    "policy_id": 14,
                    "title": "Quality Assurance Policy",
                    "description": "Policy details for Quality Assurance department.",
                    "effective_date": "2023-02-01",
                    "department_id": 14
                  },
                  {
                    "policy_id": 15,
                    "title": "Logistics Policy",
                    "description": "Policy details for Logistics department.",
                    "effective_date": "2023-03-01",
                    "department_id": 15
                  },
                  {
                    "policy_id": 16,
                    "title": "Business Development Policy",
                    "description": "Policy details for Business Development department.",
                    "effective_date": "2023-04-01",
                    "department_id": 16
                  },
                  {
                    "policy_id": 17,
                    "title": "Strategy Policy",
                    "description": "Policy details for Strategy department.",
                    "effective_date": "2023-05-01",
                    "department_id": 17
                  },
                  {
                    "policy_id": 18,
                    "title": "Compliance Policy",
                    "description": "Policy details for Compliance department.",
                    "effective_date": "2023-06-01",
                    "department_id": 18
                  }
                ]
              },
              "tool_calls": [
                {
                  "tool": "get_table_records",
                  "params": {
                    "table_name": "hr_policies",
                    "filter": "(effective_date >= '2023-01-01') AND (effective_date <= '2023-06-30')"
                  }
                }
              ]
            },
            "metrics": {
              "input_tokens": 13080,
              "output_tokens": 570,
              "cached_tokens": 12032,
              "requests": 3
            },
            "attributes": {},
            "scores": {},
            "labels": {},
            "assertions": {
              "EvaluateResult": {
                "name": "EvaluateResult",
                "value": true,
                "reason": null,
                "source": { "name": "EvaluateResult", "arguments": null }
              },
              "EvaluateToolCalls": {
                "name": "EvaluateToolCalls",
                "value": true,
                "reason": null,
                "source": { "name": "EvaluateToolCalls", "arguments": null }
              }
            },
            "task_duration": 17.81833,
            "total_duration": 17.820824,
            "trace_id": "01967b11ee4e6e02faf7c381107b3e2c",
            "span_id": "4113023db9317946"
          },
          {
            "name": "hr_l1_q4",
            "inputs": {
              "query": "List all employees who joined in 2023.",
              "output_type": "<class 'evals.level1.hr.output_types.Employees'>",
              "result_schema": ""
            },
            "metadata": null,
            "expected_output": {
              "result": {
                "employees": [
                  {
                    "employee_id": 13,
                    "first_name": "Mia",
                    "last_name": "White",
                    "email": "mia.white@example.com",
                    "date_joined": "2023-01-15",
                    "department_id": 13,
                    "role": "Staff"
                  },
                  {
                    "employee_id": 14,
                    "first_name": "Noah",
                    "last_name": "Harris",
                    "email": "noah.harris@example.com",
                    "date_joined": "2023-02-10",
                    "department_id": 14,
                    "role": "Manager"
                  },
                  {
                    "employee_id": 15,
                    "first_name": "Olivia",
                    "last_name": "Martin",
                    "email": "olivia.martin@example.com",
                    "date_joined": "2023-03-05",
                    "department_id": 15,
                    "role": "Staff"
                  },
                  {
                    "employee_id": 16,
                    "first_name": "Peter",
                    "last_name": "Thompson",
                    "email": "peter.thompson@example.com",
                    "date_joined": "2023-04-20",
                    "department_id": 16,
                    "role": "Staff"
                  },
                  {
                    "employee_id": 17,
                    "first_name": "Quinn",
                    "last_name": "Garcia",
                    "email": "quinn.garcia@example.com",
                    "date_joined": "2023-05-15",
                    "department_id": 17,
                    "role": "Manager"
                  },
                  {
                    "employee_id": 18,
                    "first_name": "Riley",
                    "last_name": "Martinez",
                    "email": "riley.martinez@example.com",
                    "date_joined": "2023-06-10",
                    "department_id": 18,
                    "role": "Staff"
                  },
                  {
                    "employee_id": 19,
                    "first_name": "Sophia",
                    "last_name": "Robinson",
                    "email": "sophia.robinson@example.com",
                    "date_joined": "2023-07-05",
                    "department_id": 19,
                    "role": "Staff"
                  },
                  {
                    "employee_id": 20,
                    "first_name": "Tyler",
                    "last_name": "Clark",
                    "email": "tyler.clark@example.com",
                    "date_joined": "2023-08-20",
                    "department_id": 20,
                    "role": "Manager"
                  }
                ]
              },
              "tool_calls": [
                {
                  "tool": "get_table_records",
                  "params": {
                    "table_name": "hr_employees",
                    "filter": "(date_joined >= '2023-01-01') AND (date_joined <= '2023-12-31')"
                  }
                }
              ]
            },
            "output": {
              "result": {
                "employees": [
                  {
                    "employee_id": 13,
                    "first_name": "Mia",
                    "last_name": "White",
                    "email": "mia.white@example.com",
                    "date_joined": "2023-01-15",
                    "department_id": 13,
                    "role": "Staff"
                  },
                  {
                    "employee_id": 14,
                    "first_name": "Noah",
                    "last_name": "Harris",
                    "email": "noah.harris@example.com",
                    "date_joined": "2023-02-10",
                    "department_id": 14,
                    "role": "Manager"
                  },
                  {
                    "employee_id": 15,
                    "first_name": "Olivia",
                    "last_name": "Martin",
                    "email": "olivia.martin@example.com",
                    "date_joined": "2023-03-05",
                    "department_id": 15,
                    "role": "Staff"
                  },
                  {
                    "employee_id": 16,
                    "first_name": "Peter",
                    "last_name": "Thompson",
                    "email": "peter.thompson@example.com",
                    "date_joined": "2023-04-20",
                    "department_id": 16,
                    "role": "Staff"
                  },
                  {
                    "employee_id": 17,
                    "first_name": "Quinn",
                    "last_name": "Garcia",
                    "email": "quinn.garcia@example.com",
                    "date_joined": "2023-05-15",
                    "department_id": 17,
                    "role": "Manager"
                  },
                  {
                    "employee_id": 18,
                    "first_name": "Riley",
                    "last_name": "Martinez",
                    "email": "riley.martinez@example.com",
                    "date_joined": "2023-06-10",
                    "department_id": 18,
                    "role": "Staff"
                  },
                  {
                    "employee_id": 19,
                    "first_name": "Sophia",
                    "last_name": "Robinson",
                    "email": "sophia.robinson@example.com",
                    "date_joined": "2023-07-05",
                    "department_id": 19,
                    "role": "Staff"
                  },
                  {
                    "employee_id": 20,
                    "first_name": "Tyler",
                    "last_name": "Clark",
                    "email": "tyler.clark@example.com",
                    "date_joined": "2023-08-20",
                    "department_id": 20,
                    "role": "Manager"
                  }
                ]
              },
              "tool_calls": [
                {
                  "tool": "get_table_records",
                  "params": {
                    "table_name": "hr_employees",
                    "filter": "(date_joined >= '2023-01-01') AND (date_joined <= '2023-12-31')",
                    "fields": [
                      "employee_id",
                      "first_name",
                      "last_name",
                      "email",
                      "date_joined",
                      "department_id",
                      "role"
                    ]
                  }
                }
              ]
            },
            "metrics": {
              "input_tokens": 15452,
              "output_tokens": 950,
              "cached_tokens": 15104,
              "requests": 3
            },
            "attributes": {},
            "scores": {},
            "labels": {},
            "assertions": {
              "EvaluateResult": {
                "name": "EvaluateResult",
                "value": true,
                "reason": null,
                "source": { "name": "EvaluateResult", "arguments": null }
              },
              "EvaluateToolCalls": {
                "name": "EvaluateToolCalls",
                "value": false,
                "reason": "Tool call params mismatch: {'table_name': 'hr_employees', 'filter': \"(date_joined >= '2023-01-01') AND (date_joined <= '2023-12-31')\", 'fields': ['employee_id', 'first_name', 'last_name', 'email', 'date_joined', 'department_id', 'role']} != {'table_name': 'hr_employees', 'filter': \"(date_joined >= '2023-01-01') AND (date_joined <= '2023-12-31')\"} at tool number: 1\n",
                "source": { "name": "EvaluateToolCalls", "arguments": null }
              }
            },
            "task_duration": 24.571569,
            "total_duration": 24.574466,
            "trace_id": "01967b11ee4e6e02faf7c381107b3e2c",
            "span_id": "5061dbed1c35cd31"
          },
          {
            "name": "hr_l1_q5",
            "inputs": {
              "query": "How many managers do we have in the company?",
              "output_type": "<class 'evals.level1.hr.output_types.ManagerCount'>",
              "result_schema": ""
            },
            "metadata": null,
            "expected_output": {
              "result": { "manager_count": 7 },
              "tool_calls": [
                {
                  "tool": "get_table_records",
                  "params": {
                    "table_name": "hr_employees",
                    "filter": "role='Manager'",
                    "fields": "employee_id"
                  }
                }
              ]
            },
            "output": {
              "result": { "manager_count": 7 },
              "tool_calls": [
                {
                  "tool": "get_table_records",
                  "params": {
                    "table_name": "hr_employees",
                    "fields": ["employee_id"],
                    "filter": "(role='manager')"
                  }
                },
                {
                  "tool": "get_table_records",
                  "params": {
                    "table_name": "hr_employees",
                    "fields": ["employee_id"],
                    "filter": "(role='Manager')"
                  }
                }
              ]
            },
            "metrics": {
              "input_tokens": 20388,
              "output_tokens": 202,
              "cached_tokens": 13824,
              "requests": 4
            },
            "attributes": {},
            "scores": {},
            "labels": {},
            "assertions": {
              "EvaluateResult": {
                "name": "EvaluateResult",
                "value": true,
                "reason": null,
                "source": { "name": "EvaluateResult", "arguments": null }
              },
              "EvaluateToolCalls": {
                "name": "EvaluateToolCalls",
                "value": false,
                "reason": "Too many tool calls: 2 > 1",
                "source": { "name": "EvaluateToolCalls", "arguments": null }
              }
            },
            "task_duration": 13.078257,
            "total_duration": 13.083303,
            "trace_id": "01967b11ee4e6e02faf7c381107b3e2c",
            "span_id": "4c35e7480f39eb6b"
          }
        ],
        "code.filepath": "src/dream_factory_evals/df_agent.py",
        "code.function": "evaluate",
        "code.lineno": 185,
        "logfire.msg_template": "evaluate {name}",
        "name": "OPENAI:GPT-4.1-MINI-HR-LEVEL-1"
      }
    ]
  }
}
